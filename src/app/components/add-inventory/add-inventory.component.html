<!-- {{msg}}
<form [formGroup]="addProductForm" (ngSubmit)="addProduct()">

    
    <input type="text" name="productName" formControlName="productName"> <br>
    <input type="text" name="price" formControlName="price"><br>
    <input type="submit" value="add Product" [disabled]="!addProductForm.valid">
</form> -->

<!-- This snippet uses Font Awesome 5 Free as a dependency. You can download it at fontawesome.io! -->

<body>
    <div class="container">
        <div class="row">
            <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
                <div class="card border-0 shadow rounded-3 my-5">
                    <div class="card-body p-4 p-sm-5">
                        <h5 class="card-title text-center  fw-light fs-4">Add Product inventory</h5>
                        <hr>
                        <form [formGroup]="addInventoryForm" (ngSubmit)="addProductInventory()">

                            <div class="form mb-3">
                                <label>Product Name:</label>
                                {{product?.productName}}
                            </div>
                            <div class="form mb-3">
                                <label>Price:</label>
                                {{product?.price | currency:"INR"}}
                            </div>

                            <div class="form mb-3">
                                <label>Main Category:</label>
                                {{product?.category.mainCategory.categoryName}}
                            </div>

                            <div class="form mb-3">
                                <label>Sub Category:</label>
                                {{product?.category.subCategory.categoryName}}
                            </div>

                            <div class="form mb-3">
                                <label>Secondary Category:</label>
                                {{product?.category.secondaryCategory.categoryName}}

                            </div>
                            <div class="form mb-3">
                                <label>Size drop-down</label>
                                <select class="form-select " style="margin: 5px;" formControlName="selectSizes"
                                    [(ngModel)]="selSizeString" (change)="onSizeChange()">
                                    <option *ngFor="let sizes of selectSizeD" [value]="sizes">{{sizes }} </option>
                                </select>
                            </div>
                            <div *ngIf="selSizeString ">
                                <label>Sizes:</label>
                                <div>
                                    <span class="btn btn-size m-1  border border-1" *ngFor="let size of sizeeee"
                                        (click)="toggleSize(size)"
                                        [ngClass]="{'selected-size': selectedSize.includes(size)}">
                                        {{ size }}
                                    </span>
                                </div>
                            </div>
                            <div *ngIf="selSizeString">
                                <label>Quantity Stock:</label>
                                <div>
                                    <input type="text" class=" btn-size m-1 border border-1 d-inline w-25"
                                        *ngFor="let pair of sizeQuantityPairs"
                                        [disabled]="!selectedSize.includes(pair.size)" [placeholder]="pair.size"
                                        [(ngModel)]="pair.quantityInStock"
                                        (ngModelChange)="onQuantityChange(pair.size, pair.quantityInStock)"
                                        formControlName="sizeQauntityPair">
                                </div>
                            </div>
                            <br>
                            <div class="col-md">
                                
                                    <img [src]="getImageUrl(product?.image)" class="img-fluid rounded-start" alt="...">
                            </div>
                            <br>

                            <div class="d-grid">
                                <button class="btn btn-primary btn-login text-uppercase fw-bold" type="submit"
                                    [disabled]="!addInventoryForm.valid">Add Inventory</button>
                            </div>
                            <div class="d-grid">
                                <button class="btn btn-primary btn-login text-uppercase fw-bold"> <a
                                        href="products"></a> BACK</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>