<h1>ADMIN DASHBOARD</h1>
<a (click)="userDetails()" class="btn btn-primary" style="margin: 5px;">Read more</a>
<a (click)="getAllUserOrders()" class="btn btn-primary" style="margin: 5px;">MY ORDERS</a>
<a (click)="getUserCart()" class="btn btn-primary" style="margin: 5px;">MY CART</a>
<a (click)="getProductInventories()" class="btn btn-primary" style="margin: 5px;">Inventory</a>



<div class="container">
    <form>
      <div>
        <label>Enter product id</label>
        <input type="text" class="form-control" id="floatingInput" name="productId" [(ngModel)]="productId">
        <div *ngIf="productInventory">
          <h3>Product Inventory Details</h3>
          <p>Product ID: {{ productInventory.productId }}</p>
          <p>Invetory status: {{ productInventory.inventoryStatus }}</p>
          <ng-container *ngIf="!showEditQuantity">
            <p>Quantity in Stock: {{ productInventory.quantityInStock }}</p>
          </ng-container>
          <ng-container *ngIf="showEditQuantity">
            <label>Edit Product Quantity:</label>
            <input type="number" class="form-control" [(ngModel)]="productInventory.quantityInStock" name="quantityInStock" #quantity>

          </ng-container>
          <p><b>Product Details :</b></p>
          <p>Product Name: {{ productInventory.product.productName }}</p>
          <p>Product Description: {{ productInventory.product.description }}</p>
          <!-- Add other relevant details here -->
  
          <!-- Edit button and input field -->
          <div *ngIf="!showEditQuantity">
            <button class="btn btn-primary" (click)="showEditQuantity = true">Edit</button>
          </div>
          <div *ngIf="showEditQuantity">
            <button class="btn btn-primary" (click)="saveEditedQuantity()">Save</button>
            <button class="btn btn-secondary" (click)="cancelEditQuantity()">Cancel</button>
          </div>
        </div>
  
        <a (click)="getInventoryOfProduct()" class="btn btn-primary" style="margin: 5px;">Product Inventory Details</a>
      </div>
    </form>
  </div>
  

<!-- <input type="text" [(ngModel)]="searchBy"> -->
<div class="container">
    <div class=" d-flex justify-content-center m-3">
        <input type="text" [(ngModel)]="searchBy" (change)="changeSearch()" class="w-25">
        <button type="button" (click)="getSearchResults()" class="btn btn-outline-success"
            style="margin: 5px;">Search</button>

        <select id="sort-by" class="form-select w-25" (change)="sort($event)" style="margin: 5px;">
            <option value="" selected disabled hidden>Sort By</option>
            <option value="Id">ID</option>
            <option value="Name">Name</option>
            <option value="Low">Show Low to High Price</option>
            <option value="High">Show High to Low Price</option>
        </select>

        <div>
            <select id="sort-by" class="form-select" style="margin: 5px;" (change)="sortByCategoryName($event)">
                <option selected disabled hidden>Select Category</option>
                <option *ngFor="let category of categories" [value]="category.categoryId">{{ category.categoryName }}
                </option>
            </select>
        </div>

    </div>
</div>
<br>

<div class="container">
    <div *ngIf="products && products.length!=0 else block">
        <div class="row  row-cols-md-4 ">
            <div *ngFor="let product of products"> <!--|search: searchBy -->
                <!-- <div class="display" *ngIf="product.productName.includes(searchBy) else block2"> -->
                <div class="col mb-2">
                    <div class="card ">
                        <img [src]="getImageUrl(product.image)"
                            class="card-img-top" alt="..." width="100" height="100">
                        <div class="card-body">

                            <h5 class="card-title">{{product.productName}}</h5>
                            <p class="card-text">{{product.description}}</p>

                            <p class="card-text">{{product.productId}}</p>
                            <p class="card-text">{{product.category.categoryName}}</p>
                           



                            <p class="card-text">{{product.price | currency:'INR'}}</p>

                            <a routerLink="/edit/{{product.productId}}" class="btn btn-success"
                                style="margin: 5px;">Edit</a>
                            <a (click)="deleteProduct(product.productId)" class="btn btn-danger"
                                style="margin: 5px;">Delete</a>
                        </div>
                    </div>
                </div>
                <!-- </div> -->
            </div>
        </div>
    </div>
</div>

<div class="container">

    <ng-template #block>Record not found</ng-template>
</div>
<div class="container">

    <!-- <ng-template #block3 >
    <p class="text-danger">Currently unavailable </p>
    </ng-template> -->

</div>