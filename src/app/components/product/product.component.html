<!-- <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="../assets/images/duke.jpg" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="../assets/images/TV.jpg" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="../assets/images/mobile.jpg" class="d-block w-100" alt="...">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div> -->


<!-- <input type="text" [(ngModel)]="searchBy"> -->
<div class="container">
    <div class=" d-flex justify-content-center m-3">
        <input type="text" [(ngModel)]="searchBy" (change)="changeSearch()" class="w-25" id="searchId" >
        <button type="button" (click)="getSearchResults()" class="btn btn-outline-success"
            style="margin: 5px;" id="submitBtn">Search</button>

        <select id="sort-by" class="form-select w-25" (change)="sort($event)" style="margin: 5px;">
            <option value="" selected disabled hidden>Sort By</option>
            <option value="Id">ID</option>
            <option value="Name">Name</option>
            <option value="Low">Show Low to High Price</option>
            <option value="High">Show High to Low Price</option>
        </select>

        <div>
            <select id="sort-by" class="form-select" style="margin: 5px;" (change)="sortByCategoryName($event)">
                <option selected disabled hidden>Select Category</option>
                <option *ngFor="let category of categories" [value]="category.categoryId">{{ category.categoryName }}
                </option>
            </select>
        </div>
    </div>
</div>
<br>

<div class="container">
    <div *ngIf="products && products.length!=0 else block">
        <div class="row  row-cols-md-4 " id="productInfo">
            <div *ngFor="let product of products"> <!--|search: searchBy -->
                <!-- <div class="display" *ngIf="product.productName.includes(searchBy) else block2"> -->
                <div class="col mb-2">
                    <div class="card ">
                        <img [src]="getImageUrl(product.image)" (click)="getProduct(product.productId)"
                            class="card-img-top" alt="..." width="100" height="100">
                        <div class="card-body">

                            <h5 class="card-title">{{product.productName}}</h5>
                            <!-- <p class="card-text">{{product.description}}</p> -->

                            <p class="card-text">{{product.productId}}</p>
                            <span class="card-text">{{product.category.mainCategory.categoryName }} </span>
                            <span class="card-text">{{product.category.subCategory.categoryName }} </span>
                            <!-- <span class="card-text">{{product.category.secondaryCategory.categoryName}}</span>  -->
                            <p class="card-text">{{product.quantityInStock}}</p>

                            <!-- <p class="card-text" >{{product.msg}}</p> -->
                            <p class="card-text" [ngStyle]="{ color: product.textColor }">{{ product.msg }}</p>



                            <!-- <p class="card-text text-success" *ngIf="product.quantityInStock>0 else block3"> In stock</p> -->

                            <ng-container
                                *ngIf="product.quantityInStock > 0; else block3">

                                <span class="card-text text-success" style="display: inline-flex;">In stock </span>
                                <!-- <div style="width: 5px; display: inline-flex;"></div> -->


                                <span class="text-danger" *ngIf="product.quantityInStock === 1">
                                    <!-- style="display: inline-flex;"> -->
                                    only {{ product.quantityInStock }} left in stock
                                </span>
                            </ng-container>

                            <ng-template #block3>
                                <p class="text-danger">Currently unavailable</p>
                            </ng-template>


                            <p class="card-text">{{product.price | currency:'INR'}}</p>
                            <a (click)="getProduct(product.productId)" class="btn btn-primary" style="margin: 5px;">Read
                                more</a>
                            <!-- <a routerLink="/edit/{{product.productId}}" class="btn btn-success"
                                style="margin: 5px;">Edit</a>
                            <a (click)="deleteProduct(product.productId)" class="btn btn-danger"
                                style="margin: 5px;">Delete</a> -->
                        </div>
                    </div>
                </div>
                <!-- </div> -->
            </div>
        </div>
    </div>
</div>

<div class="container">

    <ng-template #block>Record not found</ng-template>
</div>
<div class="container">

    <!-- <ng-template #block3 >
    <p class="text-danger">Currently unavailable </p>
    </ng-template> -->

</div>