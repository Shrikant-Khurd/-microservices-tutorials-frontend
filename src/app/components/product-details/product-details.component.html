<!-- <p>product-details works!</p>
<img [src]="product.image" alt="">
{{product.productId}}
{{product.productName}}
{{product.price}} -->
<!-- <div class="container mt-5">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="card">
        <img class="card-img-top" [src]="getImageUrl(product.image)" alt="">
        <div class="card-body">
          <h5 class="card-title">{{ product?.productName }}</h5>
          <p class="card-text">{{ product?.description }}</p>
          <p class="card-text">Price: Rs. {{ product?.price }}</p>
          <p class="card-text">Actual Price: Rs. {{ product?.productActualPrice }}</p>
          <p class="card-text">Category: {{ product?.category?.categoryName }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
 -->



<!-- 
<div class="container mt-5">

  <div class="card mb-3" style="max-width: 100%;">
    <div class="row g-0">
      <div class="col-md-4">
        <img [src]="getImageUrl(product?.image)" class="img-fluid rounded-start" alt="...">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">{{product?.productName}}</h5>
          <p class="card-text">{{product?.description}}</p>
          <p class="card-text">{{product?.category.categoryName}}</p>
          <p class="card-text">{{product?.price | currency:'INR'}}</p>

          <div class="mt-3">
            <label for="quantitySelect">Quantity:</label>
            <select id="quantitySelect" class="form-select" [(ngModel)]="selectedQuantity">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>
          <div class="mt-3">
            <label for="quantitySelect">Quantity:</label>
            <div class="quantity-controls">
              <button (click)="decrementQuantity()" class="btn btn-secondary">-</button>
              <span class="selected-quantity">{{selectedQuantity}}</span>
              <button (click)="incrementQuantity()" class="btn btn-secondary">+</button>
            </div>
          </div>
          

          <a class="btn btn-primary" (click)="addOrder(product.productId)">Buy</a>
          <a class="btn btn-primary m-2" (click)="addToCart(product)">Add to Cart</a>

        </div>
      </div>
    </div>
  </div>
  <a href="products"> <button class="btn btn-primary">Back</button> </a>
</div> -->


<div class="container mt-5">
  <div class="card mb-3" style="max-width: 100%;" [@fadeInOut]>
    <div class="row g-0">
      <div class="col-md-4">
        <img [src]="getImageUrl(product?.image)" class="img-fluid rounded-start" alt="...">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">{{product?.productName}}</h5>
          <p class="card-text">{{product?.description}}</p>
          <p class="card-text">{{product?.category?.categoryName}}</p>
          <h3 class="card-text">{{product?.price | currency:'INR'}}</h3>

          <!-- <p class="card-text">{{product?.quantityInStock}}</p> -->
          <p class="card-text" [ngStyle]="{ color: product?.textColor }">{{ product?.msg }}</p>
          <p class="card-text">{{ product?.descriptionMessage }}</p>
          <!-- <ng-container *ngFor="let size of product?.sizes">
            <span class="btn btn-danger">{{size}}</span>
          </ng-container> -->
          <div *ngIf="product?.sizes"  >
            <span> Size: </span>
            <span class="btn btn-size m-1  border border-1" *ngFor="let size of product?.sizes"
              [ngClass]="{'selected-size': selectedSize === size}" (click)="selectSize(size)">
             {{ size }}
            </span>
          </div>
          <!-- <ng-container *ngIf="product?.quantityInStock > 0; else block3">
            <p class="card-text text-success" style="display: inline-flex;">In stock </p>
            <div style="width: 5px; display: inline-flex;"></div>
            <p class="text-warning" *ngIf="product.quantityInStock <= 3" style="display: inline-flex;">
              Only {{ product.quantityInStock }} left
            </p>
          </ng-container>
          <ng-template #block3>
            <p class="text-danger">Currently unavailable</p>
          </ng-template> -->

          <div class="mt-3">
            <label for="quantitySelect">Quantity:</label>
            <div class="quantity-controls">
              <button (click)="decrementQuantity()" class="btn btn-secondary"
                [disabled]="selectedQuantity==1">-</button>
              <span class="selected-quantity">{{selectedQuantity}}</span>
              <button (click)="incrementQuantity()" class="btn btn-secondary"
                [disabled]="selectedQuantity==inStockQuantity">+</button>
              <!-- Popover content -->
              <div *ngIf="showPopover" class="popover m-2">
                <p class="m-2"><i>
                    This seller has a limit of 5 per customer. To see if more are available from another seller, go to
                    the
                    product detail page.</i>
                </p>
              </div>
            </div>
          </div>


          <a class="btn btn-primary" *ngIf="product?.quantityInStock > 0; else block5"
            (click)="addOrder(product?.productId)">Buy</a>
          <ng-template #block5>
            <button class="btn btn-primary" [disabled]="true" (click)=" addOrder(product?.productId)">Buy</button>
          </ng-template>
          <button class="btn btn-primary m-2" *ngIf="product?.quantityInStock > 0; else block6"
            (click)="addToCart(product)">Add to Cart</button>
          <ng-template #block6>
            <button class="btn btn-primary m-2" [disabled]="true" (click)=" addOrder(product?.productId)">Add to
              Cart</button>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
  <a href="products"> <button class="btn btn-primary">Back</button> </a>
</div>